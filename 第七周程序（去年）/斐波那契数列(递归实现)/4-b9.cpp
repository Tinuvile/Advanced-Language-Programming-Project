/* 2352495 信16 张竹和*/
#include <iostream>
#include <iomanip>
#include <Windows.h>
using namespace std;

/***************************************************************************
  函数名称：
  功    能：返回fibonacci数列的第n项的值
  输入参数：
  返 回 值：
  说    明：不允许任何形式的循环出现
***************************************************************************/
int fibonacci(int n, double& x)
{
	/* 按要求完成本函数 */
	int F = 0;
	if (n == 1) {
		F = 1;
		return F;
	}
	if (n == 2) {
		F = 1;
		return F;
	}
	if (n >= 3) {
		F = fibonacci(n - 1,x) + fibonacci(n - 2,x);
		x = x + 2;
		return F;
	}
	else
		return F;
}

/***************************************************************************
  函数名称：
  功    能：
  输入参数：
  返 回 值：
  说    明：main函数不允许修改
***************************************************************************/
int main()
{
	int n, f;
	double x = 1;
	cout << "请输入Fibonacci数列的项数[1-46]" << endl;
	cin >> n;

	LARGE_INTEGER tick, begin, end;
	QueryPerformanceFrequency(&tick);	//获得时钟频率
	QueryPerformanceCounter(&begin);	//获得初始硬件定时器计数
	f = fibonacci(n,x);
	cout << "执行次数" << x << endl;
	cout << fibonacci(n,x) << "=" << fibonacci(n - 1, x) << "+" << fibonacci(n - 2, x) << endl;
	cout << "Fibonacci数列第" << n << "项的值 : " << f << endl;

	QueryPerformanceCounter(&end);//获得终止硬件定时器计数
	cout << "计数器频率 : " << tick.QuadPart << "Hz" << endl;
	cout << "计数器计数 : " << end.QuadPart - begin.QuadPart << endl;
	cout << setiosflags(ios::fixed) << setprecision(6) << double(end.QuadPart - begin.QuadPart) / tick.QuadPart << "秒" << endl;

	return 0;
}